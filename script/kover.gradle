def excludePatters = [
        //Dependency injection
        "*ModuleKt*",
        "*ModulesKt*",

        // Non testable application setup
        "*MainKt*",
        "*KoinKt*",

        // Database related generated files
        "*GameOutletDatabase*",
        "*Queries*",
]

koverReport {
    filters {
        excludes  {
            classes(excludePatters)
        }
    }

    html {
        title = "Game outlet test coverage"
        onCheck = false

        filters {
            excludes {
                classes(excludePatters)
            }
        }
    }

    verify {
        rule {
            enabled = true

            filters {
                excludes {
                    classes(excludePatters)
                }
            }

            bound {
                minValue = 80
                metric = "LINE"
                aggregation = "COVERED_PERCENTAGE"
            }

            bound {
                minValue = 35
                metric = "BRANCH"
                aggregation = "COVERED_PERCENTAGE"
            }

            bound {
                minValue = 70
                metric = "INSTRUCTION"
                aggregation = "COVERED_PERCENTAGE"
            }
        }
    }
}
